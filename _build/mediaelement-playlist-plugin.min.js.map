{"version":3,"sources":["../js/mediaelement-playlist-plugin.js"],"names":["createElement","tagName","props","el","document","setNodeAttributes","target","forEach","node","key","startsWith","split","style","setAttribute","toggleDisplay","shown","display","getAttribute","isShown","toggleFade","window","GSAPTween","to","opacity","Object","assign","mejs","MepDefaults","loopText","i18n","t","shuffleText","nextText","prevText","playlistText","MediaElementPlayer","prototype","buildloop","player","controls","layers","media","loop","class","options","appendChild","type","id","title","addEventListener","dispatchEvent","Event","classList","remove","add","loopToggle","loopToggleClick","buildshuffle","shuffle","shuffleButton","shuffleToggle","shuffleToggleClick","buildprevtrack","prevtrack","button","playPrevTrack","prevTrack","prevTrackClick","buildnexttrack","nexttrack","playNextTrack","nextTrack","nextTrackClick","buildplaylist","playlistToggle","playlist","togglePlaylistDisplay","playlistToggleClick","buildplaylistfeature","listUl","getTrackName","trackUrlParts","trackUrl","length","decodeURIComponent","tracks","sourceIsPlayable","foundMatchingType","querySelectorAll","parentNode","canPlayType","src","trim","track","source","titleTrim","name","poster","push","thisLi","contains","trackSpan","innerHTML","videoSliderTracks","firstItem","children","matches","changePoster","prevVid","nextVid","videoSliderIndex","previousNextHandler","moveMe","sliderWidth","parseInt","getComputedStyle","getElementById","width","transform","Math","ceil","playTrack","paused","pause","play","container","find","show","nxt","current","querySelector","notplayed","filter","random","floor","nextElementSibling","prev","played","previousElementSibling","posterUrl","setPoster","setSrc","load","playTrackURL","url","showHide","isP"],"mappings":"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","file":"mediaelement-playlist-plugin.min.js","sourcesContent":["  /* globals mejs, MediaElementPlayer */\n(function () {\n  function createElement (tagName, props) {\n    const el = document.createElement(tagName)\n    setNodeAttributes(el, props)\n    return el\n  }\n\n  function setNodeAttributes (target, props) {\n    if (target.forEach) {\n      return target.forEach(node => {\n        setNodeAttributes(node, props)\n      })\n    }\n    for (let key in props) {\n      if (key.startsWith('style.')){\n        key = key.split('.')[0]\n        target.style[key] = props[key]\n      }else{\n        target.setAttribute(key, props[key])\n      }\n    }\n  }\n\n  const toggleDisplay = (el, shown) => {\n    const display = el.getAttribute('display') || 'block'\n    const isShown = shown || display === 'none'\n    if (isShown) {\n      el.setAttribute('data-toggle-prev-display', display)\n      el.style.display = 'none'\n    } else {\n      el.style.display = el.getAttribute('data-toggle-prev-display') || 'block'\n    }\n  }\n\n  const toggleFade = (el, isShown) => {\n    if (window.GSAPTween) { return window.GSAPTween.to(el, {opacity: isShown ? 1 : 0}) }\n    toggleDisplay(el, isShown)\n  }\n\n  Object.assign(mejs.MepDefaults, {\n    loopText: mejs.i18n.t('Repeat On/Off'),\n    shuffleText: mejs.i18n.t('Shuffle On/Off'),\n    nextText: mejs.i18n.t('Next Track'),\n    prevText: mejs.i18n.t('Previous Track'),\n    playlistText: mejs.i18n.t('Show/Hide Playlist')\n  })\n\n  Object.assign(MediaElementPlayer.prototype, {\n    // LOOP TOGGLE\n    buildloop (player, controls, layers, media) {\n      const t = this\n      const loop = createElement('div', {\n        class: `mejs__button mejs__loop ${player.options.loop ? 'mejs__loop-on' : 'mejs__loop-off'}`\n      })\n      loop.appendChild(createElement('button', {\n        type: 'button',\n        'aria-controls': player.id,\n        title: player.options.loopText\n      }))\n      controls.appendChild(loop)\n      loop.addEventListener('click', () => {\n        player.options.loop = !player.options.loop\n        media.dispatchEvent(new Event('mep-looptoggle', [player.options.loop]))\n        loop.classList.remove(player.options.loop ? 'mejs__loop-off' : 'mejs__loop-on')\n        loop.classList.add(player.options.loop ? 'mejs__loop-on' : 'mejs__loop-off')\n      })\n\n      t.loopToggle = loop\n    },\n    loopToggleClick () {\n      const t = this\n      t.loopToggle.dispatchEvent(new Event('click'))\n    },\n    // SHUFFLE TOGGLE\n    buildshuffle (player, controls, layers, media) {\n      const t = this\n      const shuffle = createElement('div', {\n        class: `mejs__button mejs__shuffle-button ${(player.options.shuffle) ? 'mejs__shuffle-on' : 'mejs__shuffle-off'}`\n      })\n      const shuffleButton = createElement('button', {\n        type: 'button',\n        'aria-controls': player.id,\n        title: player.options.shuffleText\n      })\n      shuffle.appendChild(shuffleButton)\n      controls.appendChild(shuffle)\n      shuffle.addEventListener('click', () => {\n        player.options.shuffle = !player.options.shuffle\n        media.dispatchEvent(new Event('mep-looptoggle', [player.options.loop]))\n        shuffle.classList.remove(player.options.shuffle ? 'mejs__shuffle-off' : 'mejs__shuffle-on')\n        shuffle.classList.add(player.options.shuffle ? 'mejs__shuffle-on' : 'mejs__shuffle-off')\n      })\n\n      t.shuffleToggle = shuffle\n    },\n    shuffleToggleClick () {\n      const t = this\n      t.shuffleToggle.dispatchEvent(new Event('click'))\n    },\n    // PREVIOUS TRACK BUTTON\n    buildprevtrack (player, controls, layers, media) {\n      const t = this\n      const prevtrack = createElement('div', {\n        class: 'mejs__button mejs__prevtrack-button mejs__prevtrack'\n      })\n      const button = createElement('button', {\n        type: 'button',\n        'aria-controls': player.id,\n        title: player.options.prevText\n      })\n      prevtrack.appendChild(button)\n      controls.appendChild(prevtrack)\n      prevtrack.addEventListener('click', () => {\n        media.dispatchEvent(new Event('mep-playprevtrack'))\n        player.playPrevTrack()\n      })\n\n      t.prevTrack = prevtrack\n    },\n    prevTrackClick () {\n      const t = this\n      t.prevTrack.dispatchEvent(new Event('click'))\n    },\n\n    // NEXT TRACK BUTTON\n    buildnexttrack (player, controls, layers, media) {\n      const t = this\n      const nexttrack = createElement('div', {\n        class: 'mejs__button mejs__nexttrack-button mejs__nexttrack'\n      })\n      const button = createElement('button', {\n        type: 'button',\n        'aria-controls': player.id,\n        title: player.options.nextText\n      })\n      nexttrack.appendChild(button)\n      controls.appendChild(nexttrack)\n      nexttrack.addEventListener('click', () => {\n        media.dispatchEvent(new Event('mep-playnexttrack'))\n        player.playNextTrack()\n      })\n\n      t.nextTrack = nexttrack\n    },\n    nextTrackClick () {\n      const t = this\n      t.nextTrack.dispatchEvent(new Event('click'))\n    },\n\n    // PLAYLIST TOGGLE\n    buildplaylist (player, controls, layers, media) {\n      const t = this\n      const playlistToggle = createElement('div', {\n        class: `mejs__button mejs__playlist-button ${(player.options.playlist) ? 'mejs__hide-playlist' : 'mejs__show-playlist'}`\n      })\n      const button = createElement('button', {\n        type: 'button',\n        'aria-controls': player.id,\n        title: player.options.playlistText\n      })\n      playlistToggle.appendChild(button)\n      controls.appendChild(playlistToggle)\n      playlistToggle.addEventListener('click', () => {\n        t.togglePlaylistDisplay(player, layers, media)\n      })\n\n      t.playlistToggle = playlistToggle\n    },\n    playlistToggleClick () {\n      const t = this\n      t.playlistToggle.dispatchEvent(new Event('click'))\n    },\n    // PLAYLIST WINDOW\n    buildplaylistfeature (player, controls, layers, media) {\n      const t = this\n      const playlist = createElement('div', { class: 'mejs__playlist mejs__layer' })\n      const listUl = createElement('ul', { class: 'mejs' })\n      playlist.appendChild(listUl)\n      layers.appendChild(playlist)\n      // activate playlist display when data-showplaylist is set\n      if (media.getAttribute('data-showplaylist')) {\n        player.options.playlist = true\n        // hide play overlay button\n      }\n\n      if (!player.options.playlist) {\n        toggleDisplay(playlist, false)\n      }\n\n      const getTrackName = trackUrl => {\n        const trackUrlParts = trackUrl.split('/')\n        if (trackUrlParts.length > 0) {\n          return decodeURIComponent(trackUrlParts[trackUrlParts.length - 1])\n        } else {\n          return ''\n        }\n      }\n\n      // calculate tracks and build playlist\n      const tracks = []\n      let sourceIsPlayable\n      let foundMatchingType = ''\n      // $(media).children('source').each(function (index, element) { // doesn't work in Opera 12.12\n      media.querySelectorAll('source')\n      .forEach(function (el) {\n      // $('#' + player.id).find('.mejs__mediaelement source').each(function () {\n        sourceIsPlayable = el.parentNode.canPlayType(el.type)\n        if (!foundMatchingType && (sourceIsPlayable === 'maybe' || sourceIsPlayable === 'probably')) {\n          foundMatchingType = el.getAttribute('type')\n        }\n        if (!!foundMatchingType && el.getAttribute('type') === foundMatchingType) {\n          if (el.src.trim() !== '') {\n            const track = {}\n            track.source = el.src.trim()\n            const titleTrim = el.getAttribute('title').trim()\n            if (titleTrim !== '') {\n              track.name = titleTrim\n            } else {\n              track.name = getTrackName(track.source)\n            }\n            // add poster image URL from data-poster attribute\n            track.poster = el.getAttribute('data-poster')\n            tracks.push(track)\n          }\n        }\n      })\n      tracks.forEach(function(track){\n        const thisLi = createElement('li', {\n          'data-url': track.source,\n          'data-poster': track.poster,\n          title: track.name,\n          'style.background-image': player.media.classList.contains('mep-slider') ? `url(\"${track.poster})\"` : 'inherit'\n        })\n        const trackSpan = createElement('span', {})\n        trackSpan.innerHTML = track.name\n        thisLi.appendChild(trackSpan)\n        listUl.appendChild(thisLi)\n      })\n      /* slider */\n      player.videoSliderTracks = tracks.length\n\n      // set the first track as current\n      const firstItem = listUl.children[0]\n      firstItem.classList.add('played')\n      firstItem.classList.add('current')\n      // set initial poster image - only for audio playlists\n      if (player.media.matches('audio')) {\n        player.changePoster(firstItem.getAttribute('data-poster'))\n      }\n      /* slider */\n      const prevVid = createElement('a', {class: 'mep-prev'})\n      const nextVid = createElement('a', {class: 'mep-prev'})\n\n      player.videoSliderIndex = 0\n\n      playlist.appendChild(prevVid)\n      playlist.appendChild(nextVid)\n      // setNodeAttributes(\n      //   listUl.querySelectorAll('li'),\n      //   {'style.transform': 'translate3d(0, -20px, 0) scale3d(0.75, 0.75, 1)'}\n      // )\n      toggleDisplay(prevVid, false)\n\n      const previousNextHandler = () => {\n        let moveMe = true\n\n        player.videoSliderIndex -= 1\n        if (player.videoSliderIndex < 0) {\n          player.videoSliderIndex = 0\n          moveMe = false\n        }\n\n        toggleFade(nextVid, player.videoSliderIndex !== player.videoSliderTracks - 1)\n        toggleFade(prevVid, player.videoSliderIndex !== 0)\n\n        if (moveMe === true) {\n          player.sliderWidth = parseInt(getComputedStyle(document.getElementById(player.id)).width)\n          setNodeAttributes(listUl.querySelectorAll('li'), {\n            transform: `translate3d(-${Math.ceil(player.sliderWidth * player.videoSliderIndex)}px, -20px, 0) scale3d(0.75, 0.75, 1))`\n          })\n        }\n      }\n      prevVid.addEventListener('click', previousNextHandler) // initially hide prevVid button\n      nextVid.addEventListener('click', previousNextHandler)\n\n      // play track from playlist when clicking it\n      layers.querySelectorAll('.mejs__playlist > ul li').forEach((el) => {\n        el.addEventListener('click', function () {\n          // pause current track or play other one\n          if (!this.classList.contains('current')) {\n            // clicked other track - play it\n            this.classList.add('played')\n            player.playTrack(this)\n          } else {\n            // clicked current track - play if paused and vice versa\n            if (!player.media.paused) {\n              // pause if playing\n              player.pause()\n            } else {\n              // play if paused\n              player.play()\n            }\n          }\n        })\n      })\n\n\n      // when current track ends - play the next one\n      media.addEventListener('ended', () => {\n        player.playNextTrack()\n      }, false)\n\n      // set play and paused class to container\n      media.addEventListener('playing', () => {\n        player.container.classList.remove('mep-paused')\n        player.container.classList.add('mep-playing')\n\n        // hide playlist for videos\n        if (media.matches('video')) {\n          t.togglePlaylistDisplay(player, layers, media, 'hide')\n        }\n      }, false)\n\n      /* mediaelement.js hides poster on \"play\" for all player types - not so great for audio */\n      media.addEventListener('play', () => {\n        if (player.media.matches('audio')) {\n          layers.find('.mejs__poster').show()\n        }\n      }, false)\n\n      media.addEventListener('pause', () => {\n        player.container.classList.remove('mep-playing')\n        player.container.classList.add('mep-paused')\n      }, false)\n    },\n    playNextTrack () {\n      const t = this\n      let nxt\n      const tracks = t.layers.querySelectorAll('.mejs__playlist > ul > li')\n      const current = t.layers.querySelector('.mejs__playlist > ul > li.current')\n      let notplayed = [...tracks].filter(el => !el.classList.contains('played'))\n\n      if (notplayed.length < 1) {\n        tracks.forEach(el => {\n          el.classList.remove('played')\n        })\n        notplayed = [...tracks].filter(el => !el.classList.contains('current'))\n      }\n      if (t.options.shuffle) {\n        const random = Math.floor(Math.random() * notplayed.length)\n        nxt = notplayed[random]\n      } else {\n        nxt = current.nextElementSibling\n        if (nxt.length === null && t.options.loop) {\n          nxt = tracks[0]\n        }\n      }\n      if (nxt) {\n        nxt.classList.add('played')\n        t.playTrack(nxt)\n      }\n    },\n    playPrevTrack () {\n      const t = this\n      let prev\n      const tracks = t.layers.querySelectorAll('.mejs__playlist > ul > li')\n      const current = t.layers.querySelector('.mejs__playlist > ul > li.current')\n      let played = [...tracks].filter(el => el.classList.contains('played') && !el.classList.contains('current'))\n      if (played.length < 1) {\n        current.classList.remove('played')\n        played = [...tracks].filter(el => !el.classList.contains('current'))\n      }\n      if (t.options.shuffle) {\n        const random = Math.floor(Math.random() * played.length)\n        prev = played[random]\n      } else {\n        prev = current.previousElementSibling\n        if (!prev && t.options.loop) {\n          prev = tracks[tracks.length - 1]\n        }\n      }\n      if (prev) {\n        current.classList.remove('played')\n        t.playTrack(prev)\n      }\n    },\n    changePoster (posterUrl) {\n      const t = this\n      setNodeAttributes(t.layers.querySelector('.mejs__playlist'), {\n        'background-image': `url(\"${posterUrl}\")`\n      })\n      // also set actual poster\n      t.setPoster(posterUrl)\n      // make sure poster is visible (not the case if no poster attribute was set)\n      toggleDisplay(t.layers.querySelector('.mejs__poster'), true)\n    },\n    playTrack (track) {\n      const t = this\n      t.pause()\n      t.setSrc(track.getAttribute('data-url'))\n      t.load()\n      t.changePoster(track.getAttribute('data-poster'))\n      t.play()\n      const tracks = t.layers.querySelectorAll('.mejs__playlist > ul > li')\n      tracks.forEach(el => {\n        el.classList[el === track ? 'add' : 'remove']('current')\n      })\n    },\n    playTrackURL (url) {\n      const t = this\n      const tracks = t.layers.querySelectorAll('.mejs__playlist > ul > li')\n      const track = tracks.querySelector(`[data-url=\"${url}\"]`)\n      t.playTrack(track)\n    },\n    togglePlaylistDisplay (player, layers, media, showHide) {\n      const t = this\n      if (showHide) {\n        player.options.playlist = showHide === 'show'\n      } else {\n        player.options.playlist = !player.options.playlist\n      }\n      media.dispatchEvent(new Event('mep-playlisttoggle', [player.options.playlist]))\n      // toggle playlist display\n      const isP = player.options.playlist\n      toggleFade(layers.querySelector('.mejs__playlist'), isP)\n      t.playlistToggle.classList.add(isP ? 'mejs__hide-playlist' : 'mejs__show-playlist')\n      t.playlistToggle.classList.remove(isP ? 'mejs__show-playlist' : 'mejs__hide-playlist')\n    }\n  })\n})()\n"]}